---
layout: post
title: "OpenCV 滤波处理 —— 高斯模糊"
date: 2018-12-23
categories: OpenCV
tags: OpenCV blur
img: https://i.loli.net/2019/05/29/5cee10b4a534832047.jpg
describe: 高斯模糊如何实现? 如何通过滤波处理实现高斯模糊效果?
---

## 高斯模糊卷积核
- **1. 根据正太分布计算权重矩阵, 权重之和为 1**

![image](https://i.loli.net/2019/05/29/5cee1756d9d9051958.jpg)

- **2. 像素点周边的像素与权重矩阵相乘**

![image](https://i.loli.net/2019/05/29/5cee17653531f15707.jpg)

- **3. 计算结果之和即为高斯模糊的像素值**

## OpenCV 使用方式
- sigmaX: 用于控制高斯模糊动态分布上升的曲率
  -  趋近于 0 时, 曲线上升趋势比较陡峭, 模糊效果不明显
  -  趋近于卷积核大小时, 曲线上升趋势平缓, 模糊效果退化成均值模糊
  -  传 0 时, 通过 **sigmaX = 0.3 * ((kenelSize - 1) * 0.5 - 1) + 0.8** 公式计算一个较为合理的值

```
#include<opencv2/opencv.hpp>

using namespace cv;

void main() {
	Mat src = imread("F:/VisualStudioSpace/OpenCV/Resource/Naruto.jpg");
	Mat dst;
	// 高斯模糊
	GaussianBlur(
		src,
		dst, 
		Size(15, 15),    // 卷积核大小(需为奇数, 否则卷积相乘之后, 找不到中心点)
		0,               // sigmaX: 传 0 会自己计算: sigmaX = 0.3 * ((kenelSize - 1) * 0.5 - 1) + 0.8
		0                // sigmaY: 不传代表和 sigmaX 值相同
	);
	imshow("Gaussian", dst);
	cvWaitKey(0);
}
```

## 效果分析
- 保留了一些轮廓, 过渡平滑
- 没有像素块
- 效果较好

![高斯模糊效果](https://i.loli.net/2019/05/29/5cee17b89982272530.jpg)